legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
fireworks.average <- ddply(p.subset, c("fireworks", "year", "hour"), summarise,
n_peds = sum(Hourly_Counts),
mean_peds = mean(Hourly_Counts))
View(p.subset)
View(fireworks.average)
View(p.subset)
(1988 + 769) / 2
(1988 + 769)
g1 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "King's Domain"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("King's Domain") +
labs(x="Hour", y="Number of pedestrians") +
scale_y_continuous(breaks = seq(0, 15000, 3000)) +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
fireworks.average <- ddply(p.subset, c("fireworks", "year", "hour"), summarise,
n_peds = sum(Hourly_Counts),
mean_peds = mean(Hourly_Counts))
fireworks.average <- fireworks.average[complete.cases(fireworks.average), ]
g1 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "King's Domain"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("King's Domain") +
labs(x="Hour", y="Number of pedestrians") +
scale_y_continuous(breaks = seq(0, 15000, 3000)) +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
g1 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "King's Domain"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("King's Domain") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
g2 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "Treasury Gardens"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Treasury Gardens") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g2
g3 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "Flagstaff Gardens"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Flagstaff Gardens") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g3
g4 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "Docklands"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Docklands") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g4
grid.arrange(g1, g2, g3, g4, nrow = 2, ncol = 2)
g1 <- ggplot(data = fireworks.average[(fireworks.average$year == "2014"), ],
aes(x = hour, y = mean_peds, group = fireworks, colour = fireworks)) +
geom_line() +
geom_point() +
ggtitle("Fireworks events traffic, NYE 2014") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
cbd.average <- ddply(p.subset, c("cbd", "year", "hour"), summarise,
n_peds = sum(Hourly_Counts),
mean_peds = mean(Hourly_Counts))
cbd.average <- cbd.average[complete.cases(cbd.average), ]
g1 <- ggplot(data = cbd.average[(cbd.average$cbd == "Lonsdale Street"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Lonsdale Street") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
g2 <- ggplot(data = cbd.average[(cbd.average$cbd == "Chinatown"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Chinatown") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
g2
g3 <- ggplot(data = cbd.average[(cbd.average$cbd == "Bourke Street"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Bourke Street") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g3
g4 <- ggplot(data = cbd.average[(cbd.average$cbd == "Collins Street"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Collins Street") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g4
g5 <- ggplot(data = cbd.average[(cbd.average$cbd == "City Square"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("City Square") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g5
grid.arrange(g1, g2, g3, g4, g5, nrow = 3, ncol = 2)
g1 <- ggplot(data = cbd.average[(cbd.average$year == "2014"), ],
aes(x = hour, y = mean_peds, group = cbd, colour = cbd)) +
geom_line() +
geom_point() +
ggtitle("CBD events traffic, NYE 2014") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
stations.average <- ddply(p.subset, c("stations", "year", "hour"), summarise,
n_peds = sum(Hourly_Counts),
mean_peds = mean(Hourly_Counts))
stations.average <- stations.average[complete.cases(stations.average), ]
g1 <- ggplot(data = stations.average[(stations.average$stations == "Flinders Street"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Flinders Street") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
g2 <- ggplot(data = stations.average[(stations.average$stations == "Southern Cross"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Southern Cross") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g2
g3 <- ggplot(data = stations.average[(stations.average$stations == "Melbourne Central"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Melbourne Central") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g3
g4 <- ggplot(data = stations.average[(stations.average$stations == "Flagstaff"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Flagstaff") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g4
g1 <- ggplot(data = stations.average[(stations.average$year == "2014"), ],
aes(x = hour, y = mean_peds, group = stations, colour = stations)) +
geom_line() +
geom_point() +
ggtitle("City loop stations traffic, NYE 2014") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
g1 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "King's Domain"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("King's Domain") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
# Treasury Gardens
g2 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "Treasury Gardens"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Treasury Gardens") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
# Flagstaff Gardens
g3 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "Flagstaff Gardens"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Flagstaff Gardens") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
# Docklands
g4 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "Docklands"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Docklands") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
grid.arrange(g1, g2, g3, g4, nrow = 2, ncol = 2)
g1 <- ggplot(data = fireworks.average[(fireworks.average$year == "2014"), ],
aes(x = hour, y = mean_peds, group = fireworks, colour = fireworks)) +
geom_line() +
geom_point() +
ggtitle("Fireworks events traffic, NYE 2014") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
require(ggplot2)
ggplot(dates, aes(x = Var1, y = Freq, group = 1)) +
geom_line() +
geom_point() +
ggtitle("Number of sites per time point") +
labs(x="Time point", y="Number of sites") +
theme_bw()
dates <- as.data.frame(table(p.subset$date))
require(ggplot2)
ggplot(dates, aes(x = Var1, y = Freq, group = 1)) +
geom_line() +
geom_point() +
ggtitle("Number of sites per time point") +
labs(x="Time point", y="Number of sites") +
theme_bw()
g1 <- ggplot(data = cbd.average[(cbd.average$year == "2014"), ],
aes(x = hour, y = mean_peds, group = cbd, colour = cbd)) +
geom_line() +
geom_point() +
ggtitle("CBD events traffic, NYE 2014") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
g1 <- ggplot(data = stations.average[(stations.average$stations == "Flinders Street"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Flinders Street") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
# Southern Cross
g2 <- ggplot(data = stations.average[(stations.average$stations == "Southern Cross"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Southern Cross") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
# Melbourne Central
g3 <- ggplot(data = stations.average[(stations.average$stations == "Melbourne Central"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Melbourne Central") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
# Flagstaff station
g4 <- ggplot(data = stations.average[(stations.average$stations == "Flagstaff"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Flagstaff") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g4
grid.arrange(g1, g2, g3, g4, nrow = 2, ncol = 2)
g1 <- ggplot(data = stations.average[(stations.average$year == "2014"), ],
aes(x = hour, y = mean_peds, group = stations, colour = stations)) +
geom_line() +
geom_point() +
ggtitle("City loop stations traffic, NYE 2014") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(size = 16, face = "bold"),
text = element_text(size = 14),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g1
g2 <- ggplot(data = fireworks.average[(fireworks.average$fireworks == "Treasury Gardens"), ],
aes(x = hour, y = mean_peds, group = year, colour = year)) +
geom_line() +
geom_point() +
ggtitle("Treasury Gardens") +
labs(x="Hour", y="Number of pedestrians") +
theme_bw() +
theme(plot.title = element_text(face = "bold"),
panel.border = element_blank(),
axis.line = element_line(size=0.4, colour = "black"),
legend.position = "bottom",
legend.title = element_blank(),
legend.key=element_rect(fill="white", colour="white"))
g2
getwd
getwd()
ls
ls()
setwd("/Users/jburchell/projects/t-redactyl/content")
library(knitr)
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
6.75 / 2
6.75 / 2 *3
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
knit("/Users/jburchell/Documents/Blog-posts/2015-12-30-planning melbourne new years using data.Rmd", output = "2015-12-30-planning melbourne new years using data.md")
